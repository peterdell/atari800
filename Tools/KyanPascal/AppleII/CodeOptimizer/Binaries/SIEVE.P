PROGRAM SIEVE;
(* SIEVE: STANDARD PASCAL BENCHMARK
   PROGRAM.  CALCULATES # OF PRIMES
   BETWEEN 0 AND 16384 (SIZE*2) *)
CONST SIZE=8192;
VAR
  COUNT,I,K,PRIME:INTEGER;
  F:ARRAY [0..SIZE] OF BOOLEAN;
BEGIN
  WRITELN('1 ITERATION');
  COUNT:=0;
  FOR I:=0 TO SIZE DO F[I]:=TRUE;
  FOR I:=0 TO SIZE DO
  IF F[I] THEN
  BEGIN
      PRIME:=I+I+3;
      K:=I+PRIME;
      WHILE K<=SIZE DO
      BEGIN
        F[K]:=FALSE;
        K:=K+PRIME
      END;
   COUNT:=COUNT+1;
  END;
  WRITELN(COUNT,' PRIMES')
END.
